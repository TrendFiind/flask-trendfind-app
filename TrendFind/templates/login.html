{% extends 'base.html' %}
{% block title %}Login – TrendFind{% endblock %}

{# Hide the dark/light toggle ONLY on this page #}
{% block dark_toggle %}{% endblock %}

{% block content %}

<style>
  /* Same vibe as FAQ hero */
  .auth-hero{
    position:relative;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    background: linear-gradient(135deg, rgba(0,0,0,.9) 0%, rgba(0,20,30,.85) 100%);
    overflow:hidden;
    padding: 120px 16px 80px; /* space for fixed header */
  }
  .auth-hero::before{
    content:'';
    position:absolute; inset:0;
    background:url('{{ url_for('static', filename='images/background.jpg') }}') center/cover no-repeat;
    opacity:.1; z-index:0;
  }

  /* Login card (keep your existing look) */
  .login-card{
    position:relative; z-index:1;
    width:100%; max-width:420px;
    background:#fff; border-radius:12px;
    box-shadow:0 10px 25px rgba(0,0,0,.1);
    padding:40px 35px;
  }
  .login-card .btn-primary{ background:#1f4037; border:none; }
  .login-card .btn-primary:hover{ background:#163329; }

  /* Center the Google button label perfectly */
  .btn-google{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:.5rem;
    line-height:1.2;
    padding:.75rem 1rem;
  }
  .btn-google i{ margin:0; }
</style>

<section class="auth-hero">
  <div class="login-card">
    <!-- No small logo at the top (intentionally removed) -->

    <h2 class="fw-bold text-center mb-4">Welcome Back</h2>

    {% with messages = get_flashed_messages(with_categories=true, category_filter=['auth_success','auth_error']) %}
      {% for category, message in messages %}
        <div class="alert alert-{{ 'danger' if category.endswith('error') else 'success' }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
      {% endfor %}
    {% endwith %}

    <form method="POST" action="{{ url_for('login') }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" name="email" id="email" class="form-control form-control-lg" placeholder="you@example.com" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" name="password" id="password" class="form-control form-control-lg" required>
      </div>
      <button type="submit" class="btn btn-primary btn-lg w-100">Sign In</button>
    </form>

    <div class="d-grid mt-3">
      <a class="btn btn-outline-danger btn-lg btn-google" href="{{ url_for('google_login') }}">
        <i class="fab fa-google me-2"></i> Sign in with Google
      </a>
    </div>

    <p class="text-center mt-4 mb-0">
      Don’t have an account? <a href="{{ url_for('register') }}">Register</a>
    </p>
  </div>
</section>
{% endblock %}
