{% extends 'base.html' %}
{% block title %}Login – TrendFind{% endblock %}
{% block content %}
<style>
  .login-bg {
    min-height: 100vh;
    background: linear-gradient(135deg, #1f4037, #99f2c8);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .login-card {
    width: 100%;
    max-width: 420px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    padding: 40px 35px;
  }
  .login-card .btn-primary { background: #1f4037; border: none; }
  .login-card .btn-primary:hover { background: #163329; }
</style>

<div class="login-bg">
  <div class="login-card">
    <div class="text-center mb-4">
      <img src="{{ url_for('static', filename='images/Logo.png') }}" alt="TrendFind" class="mb-3" style="width:120px;">
      <h2 class="fw-bold">Welcome Back</h2>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('login') }}">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" name="email" id="email" class="form-control form-control-lg" placeholder="you@example.com" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" name="password" id="password" class="form-control form-control-lg" required>
      </div>
      <button type="submit" class="btn btn-primary btn-lg w-100">Sign In</button>
    </form>

    <div class="d-grid mt-3">
      <a class="btn btn-outline-danger btn-lg" href="{{ url_for('google_login') }}">
        <i class="fab fa-google me-2"></i> Sign in with Google
      </a>
    </div>

    <p class="text-center mt-4">
      Don’t have an account? <a href="{{ url_for('register') }}">Register</a>
    </p>
  </div>
</div>
{% endblock %}
